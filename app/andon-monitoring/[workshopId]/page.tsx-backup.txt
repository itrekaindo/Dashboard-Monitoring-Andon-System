// app/andon-monitoring/[workshopId]/page.tsx
import ModernSidebar from '@/components/ui/sidebar';
import { FC } from 'react';
import Link from 'next/link';
import { Card, CardHeader, CardTitle } from '@/components/ui/card';

// Import data mock dari lib
import { workshops } from '@/lib/mock-data';

interface PageProps {
params: {
workshopId: string;
};
}

export default async function WorkshopPage({ params }: PageProps) {
// Gunakan await sesuai best practice Next.js 15+
const { workshopId } = await params;

// Cari workshop berdasarkan ID
const workshop = workshops.find(ws => ws.id === workshopId);

if (!workshop) {
return (
<ModernSidebar>
    <main className="p-8">
        <h1 className="text-3xl font-bold text-white mb-2">Workshop Not Found</h1>
    </main>
</ModernSidebar>

);
}

// Ambil daftar lantai dari workshop
const floors = workshop.floors;

return (
<ModernSidebar>
    <main className="p-8">
        <div className="mb-8">
            <h1 className="text-3xl font-bold text-white mb-2">
                Workshop {workshop.name}
            </h1>
            <p className="text-gray-400">Pilih lantai untuk melihat detail monitoring produksi</p>
        </div>

        {/* Grid untuk menampilkan card lantai */}
        <div className="grid grid-cols-3 gap-6">
            {floors.map((floor) => (
            <Link key={floor.id} href={`/andon-monitoring/${workshopId}/lantai/${floor.id}`}>
            <Card className="cursor-pointer hover:shadow-lg">
                <CardHeader>
                    <CardTitle>{floor.name}</CardTitle>
                </CardHeader>
            </Card>
            </Link>
            ))}
        </div>
    </main>
</ModernSidebar>

);
}
